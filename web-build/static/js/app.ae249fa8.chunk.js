(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{409:function(e,t,a){"use strict";var n=a(4),r=a.n(n),o=a(9),s=a.n(o),i=a(10),c=a.n(i),l=a(11),u=a.n(l),p=a(12),f=a.n(p),m=a(5),d=a.n(m),h=(a(510),a(0)),y=a.n(h),g=a(23),b=a(356),v=a(73);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=E(E({},v.a),{},{colors:E(E({},v.a.colors),{},{primary:"darkorange",accent:"orange",background:"white"})}),w=a(374),P=a(519),j=a(3),S=a.n(j),D=a(61),I=a(369),x=a(368),_=a(357),L=a(358),R=a(33),C=a(76),B=a(410),A=(a(481),Object(B.a)("https://boosiwjmzafecgvteifj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyNjgzMDMyNCwiZXhwIjoxOTQyNDA2MzI0fQ.JyyCCGLE88767Xfq1-XTPOXJXkAGEDI0UuVeG8MEQhk",{localStorage:C.a})),T=a(411);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F={isLogin:!1,tipe:"",peserta_id:"",isLoading:!1,kehadiranTabId:""},q=Object(T.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return G(G({},e),{},{isLogin:t.payload.isLogin,tipe:t.payload.tipe,peserta_id:t.payload.peserta_id});case"LOADING":return G(G({},e),{},{isLoading:t.payload.isLoading});case"KEHADIRANTAB":return G(G({},e),{},{kehadiranTabId:t.payload.kehadiranTabId})}})),z=a(147),K=a(133),H=a(134);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var V=function(e){u()(a,e);var t=U(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n.state),n}return c()(a,[{key:"render",value:function(){return h.createElement(z.a,null,h.createElement(K.a,{visible:this.state.isLoading},h.createElement(H.a,{animating:!0,size:"large",color:k.colors.primary})))}}]),a}(h.Component);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Y=function(e){u()(a,e);var t=X(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).onBackButtonPress=function(){return!0},n.state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=J(J({},n.state),{},{email:"",password:"",passwordHide:!0,passwordIcon:"eye"}),n}return c()(a,[{key:"componentDidMount",value:function(){return S.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:D.a.addEventListener("hardwareBackPress",this.onBackButtonPress),this.defaultValue();case 2:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"defaultValue",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.awrap(C.a.getItem("@loginEmail"));case 2:return e=a.sent,this.setState({email:e}),a.next=6,S.a.awrap(C.a.getItem("@loginPassword"));case 6:t=a.sent,this.setState({password:t});case 8:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"onLogin",value:function(){var e,t,a,n;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.validate({email:{required:!0,email:!0},password:{required:!0,minlength:6}}),!this.isFormValid()){r.next=24;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),r.next=5,S.a.awrap(C.a.setItem("@loginEmail",this.state.email));case 5:return r.next=7,S.a.awrap(C.a.setItem("@loginPassword",this.state.password));case 7:return r.next=9,S.a.awrap(A.auth.signIn({email:this.state.email,password:this.state.password}));case 9:if(e=r.sent,e.user,e.session,null==(t=e.error)){r.next=17;break}Object(g.b)({message:t.message,type:"danger",icon:"danger"}),r.next=23;break;case 17:return r.next=19,S.a.awrap(A.from("users").select("id, tipe, peserta_id").eq("email",this.state.email).single());case 19:a=r.sent,n=a.data,q.dispatch({type:"LOGIN",payload:{isLogin:!0,tipe:n.tipe,peserta_id:n.peserta_id}}),Object(g.b)({message:"Berhasil Login",type:"success",icon:"success"});case 23:q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 24:case"end":return r.stop()}}),null,this,null,Promise)}},{key:"passwordDisplay",value:function(){var e="eye"==this.state.passwordIcon?"eye-off-outline":"eye";this.setState({passwordIcon:e}),this.setState({passwordHide:!this.state.passwordHide})}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Content,{title:"Login"})),y.a.createElement(x.a,{label:"Email",value:this.state.email,onChangeText:function(t){return e.setState({email:t})},style:{marginHorizontal:10}}),this.isFieldInError("email")&&this.getErrorsInField("email").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Password",secureTextEntry:this.state.passwordHide,value:this.state.password,onChangeText:function(t){return e.setState({password:t})},style:{marginHorizontal:10},right:y.a.createElement(x.a.Icon,{icon:this.state.passwordIcon,onPress:function(){return e.passwordDisplay()}})}),this.isFieldInError("password")&&this.getErrorsInField("password").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(L.a,{mode:"contained",icon:"login",onPress:function(){return e.onLogin()},style:{margin:10}},"Login"))}}]),a}(R.a),Q=Object(P.a)();function Z(){return y.a.createElement(b.a,{theme:k},y.a.createElement(w.a,null,y.a.createElement(Q.Navigator,null,y.a.createElement(Q.Screen,{name:"LoginScreen",component:Y,options:{headerShown:!1}}))))}var $=a(520),ee=a(71),te=a(1),ae=a(31),ne=a(18),re=a(363),oe=a(115),se=a(364),ie=a(365);a(112);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var pe=function(e){u()(a,e);var t=ue(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=le(le({},n.state),{},{dataList:[]}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),a.next=3,S.a.awrap(A.rpc("total_pertemuan_laporan"));case 3:e=a.sent,t=e.data,e.error,t.map((function(e,a){var n=e.pertemuan/e.total_pertemuan;t[a].progress=parseFloat(n.toFixed(2))})),this.setState({dataList:t}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"onLogout",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=A.auth.signOut(),!(t=e.error)){a.next=5;break}showMessage({message:t.message,icon:"warning",backgroundColor:"red",color:theme.colors.background}),a.next=9;break;case 5:return a.next=7,S.a.awrap(A);case 7:a.sent,q.dispatch({type:"LOGIN",payload:{isLogin:!1,tipe:"",peserta_id:""}});case 9:case"end":return a.stop()}}),null,null,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Content,{title:"Home"}),y.a.createElement(I.a.Action,{icon:"power",onPress:function(){return e.onLogout()}})),y.a.createElement(ne.a.Item,{title:"Kelas Pertemuan"}),y.a.createElement(re.a,null),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.dataList,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.kelas_nama,description:a.pelatihan_nama,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:35},a.kelas_nama.charAt(0))},right:function(){return y.a.createElement(se.a,null,a.pertemuan+"/"+a.total_pertemuan)},onPress:function(){return e.props.navigation.navigate("Kehadiran",{screen:"KelasKehadiranScreen",params:{kelas_id:a.kelas_id,kelas_nama:a.kelas_nama}})}}),y.a.createElement(ie.a,{progress:a.progress,color:k.colors.primary,style:{marginHorizontal:10,height:10}}))}}))}}]),a}(h.Component),fe=a(96);function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ye=function(e){u()(a,e);var t=he(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=de(de({},n.state),{},{data:[]}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),a.next=3,S.a.awrap(A.from("kelas").select("id, nama, pelatihan:pelatihan_id (nama), status"));case 3:e=a.sent,t=e.data,e.error,e.count,this.setState({data:t}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Content,{title:"Kehadiran"})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.nama,description:a.pelatihan.nama,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:40},a.nama.charAt(0))},right:function(){return y.a.createElement(fe.a,{icon:"arrow-right"})},onPress:function(){return e.props.navigation.navigate("KelasKehadiranScreen",{kelas_id:a.id,kelas_nama:a.nama})}}),y.a.createElement(re.a,null))}}))}}]),a}(h.Component),ge=function(e){var t="";if(e){var a=e.substr(-2),n=e.substr(5,2)-1,r=e.substr(0,4);t=a+" "+["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"][n]+" "+r}return t};function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Ee=function(e){u()(a,e);var t=Oe(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=ve(ve({},n.state),{},{data:[]}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.kelas_id,n.next=4,S.a.awrap(A.from("kelas_kehadiran").select("id, pertemuan, materi, tanggal_kehadiran").eq("kelas_id",e).order("pertemuan",{ascending:!0}));case 4:t=n.sent,a=t.data,t.error,t.count,this.setState({data:a}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 10:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"onRight",value:function(e){var t=this;this.props.route.params.kelas_id;return y.a.createElement(te.a,{style:{flexDirection:"row"}},null!=e.tanggal_kehadiran?y.a.createElement(fe.a,{icon:"check-circle-outline",size:27,color:"green"}):y.a.createElement(fe.a,{icon:"timer-sand",size:27,color:"grey"}),y.a.createElement(fe.a,{icon:"pencil",size:25,onPress:function(){return t.props.navigation.navigate("KelasKehadiranUpdateScreen",{docId:e.id})}}))}},{key:"onListPeserta",value:function(e){this.props.navigation.navigate("KelasKehadiranPesertaScreen",{kelas_id:this.props.route.params.kelas_id,kelas_nama:this.props.route.params.kelas_nama,materi:e.materi,pertemuan:e.pertemuan,kelas_kehadiran_id:e.id})}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.navigate("KehadiranScreen")}}),y.a.createElement(I.a.Content,{title:this.props.route.params.kelas_nama})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.materi,description:ge(a.tanggal_kehadiran),left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:35},a.pertemuan)},right:function(t){return e.onRight(a)},onPress:function(){return e.onListPeserta(a)}}),y.a.createElement(re.a,null))}}))}}]),a}(h.Component),ke=a(24),we=a(372),Pe=a(370);function je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Se=ke.a.get("window").width,De=ke.a.get("window").height,Ie=function(e){u()(a,e);var t=je(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state={pickerDisplay:!1,labelSelected:""},n}return c()(a,[{key:"toggleDisplay",value:function(){this.setState({pickerDisplay:!this.state.pickerDisplay})}},{key:"componentDidMount",value:function(){this.defaultValue()}},{key:"componentDidUpdate",value:function(e,t){e.value!==this.props.value&&this.defaultValue()}},{key:"defaultValue",value:function(){var e=this.props.label,t=this.props.value;this.setState({labelSelected:e,valueSelected:t})}},{key:"onSelect",value:function(e){this.props.onChangePickerValue(e);var t="";this.props.options.map((function(a,n){a.value==e&&(t=a.label)})),this.setState({labelSelected:t}),this.props.onChangePickerLabel(t),this.toggleDisplay()}},{key:"render",value:function(){var e=this;return h.createElement(te.a,null,h.createElement(_.a,{style:{color:k.colors.primary,marginHorizontal:10,marginBottom:-20}},this.props.title),h.createElement(ne.a.Item,{title:this.state.labelSelected,right:function(){return h.createElement(ne.a.Icon,{icon:"menu-down"})},onPress:function(){return e.toggleDisplay()},style:{height:60,marginHorizontal:10,borderBottomColor:"#cccccc",borderBottomWidth:1}}),h.createElement(z.a,null,h.createElement(we.a,{visible:this.state.pickerDisplay,onDismiss:function(){return e.toggleDisplay()},style:{position:"absolute",bottom:0,width:Se,marginVertical:0,marginHorizontal:0}},h.createElement(we.a.Title,null,this.props.title," :"),h.createElement(we.a.ScrollArea,{style:{height:.3*De}},h.createElement(Pe.a.Group,{onValueChange:function(t){return e.onSelect(t)},value:this.state.valueSelected},h.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.props.options,keyExtractor:function(e){return e.label},style:{backgroundColor:"#fff"},renderItem:function(e){var t=e.item;return h.createElement(Pe.a.Item,{value:t.value,label:t.label,color:k.colors.primary})}}))),h.createElement(we.a.Actions,{style:{justifyContent:"flex-end"}},h.createElement(L.a,{icon:"cancel",style:{paddingRight:5},onPress:function(){return e.toggleDisplay()}},"CLOSE")))))}}]),a}(h.Component),xe=a(2),_e=a(413),Le=function(e){var t="";if(e){var a=e;t=("0"+a.getDate()).substr(-2)+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]+" "+a.getFullYear()}return t},Re=function(e){var t=e.seconds?new Date(1e3*e.seconds):e;return("0"+t.getHours()).substr(-2)+":"+("0"+t.getMinutes()).substr(-2)};function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Be=function(e){u()(a,e);var t=Ce(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state={display:!1},n}return c()(a,[{key:"componentDidMount",value:function(){}},{key:"onSelect",value:function(e){this.setState({display:!1}),e&&this.props.onChangeDate(e)}},{key:"render",value:function(){var e=this,t="date"==this.props.mode?Le(this.props.value):Re(this.props.value),a="undefined"!=typeof this.props.style?this.props.style:"",n=new Date;n.setDate(n.getDate()-365),"undefined"!=typeof this.props.minDate&&(n=this.props.minDate);new Date;return"undefined"!=typeof this.props.maxDate&&this.props.maxDate,h.createElement(te.a,null,h.createElement(_.a,{style:{marginTop:5,marginBottom:-20,marginLeft:10,color:k.colors.primary}},this.props.title),h.createElement(ne.a.Item,{title:t,right:function(){return h.createElement(ne.a.Icon,{icon:"calendar"})},onPress:function(){return e.setState({display:!0})},style:[Ae.list,a]}),this.state.display&&h.createElement(_e.a,{value:this.props.value,mode:this.props.mode,display:"calendar",is24Hour:!0,onChange:function(t,a){return e.onSelect(a)}}))}}]),a}(h.Component),Ae=xe.a.create({list:{marginHorizontal:5,height:50,marginBottom:5}}),Te=Be,Ne=function(e){var t=e?e.toString().replace(/\D/g,""):"",a=(t=t.toString().replace(/\\./g,"")).length,n=[],r=1,o=a,s=0;for(s=a-1;s>=0;s-=3){var i=o>3?3:o,c=a-3*r;o=c=c>0?c:0,n.unshift(t.substr(c,i)),r++}return n.join(",")},Ge=function(e){var t="";if(e){var a=new Date(e),n=("0"+a.getDate()).substr(-2),r=("0"+(a.getMonth()+1)).substr(-2);t=a.getFullYear()+"-"+r+"-"+n}return t},Fe=function(e){return""!=e?parseInt(e.toString().replace(/,/g,"")):0};function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var He=function(e){u()(a,e);var t=Ke(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=ze(ze({},n.state),{},{pertemuan:"",materi:"",materi_realisasi:"",tanggal_kehadiran:""}),n}return c()(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.docId,n.next=4,S.a.awrap(A.from("kelas_kehadiran").select("id, pertemuan, materi, materi_realisasi, tanggal_kehadiran").eq("id",e).single());case 4:t=n.sent,a=t.data,t.error,this.setState({pertemuan:a.pertemuan,tanggal_kehadiran:null!=a.tanggal_kehadiran?new Date(a.tanggal_kehadiran):new Date,materi:a.materi,materi_realisasi:a.materi_realisasi}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"onSubmit",value:function(){var e,t,a,n,r;return S.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.validate({pertemuan:{required:!0,numeric:!0},materi:{required:!0},materi_realisasi:{required:!0},tanggal_kehadiran:{required:!0}}),!this.isFormValid()){o.next=15;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.docId,t=[],a=Ge(this.state.tanggal_kehadiran),n=this.state.materi,r=this.state.materi_realisasi,this.state.pertemuan,o.next=11,S.a.awrap(A.from("kelas_kehadiran").update([{pertemuan:this.state.pertemuan,materi:n,materi_realisasi:r,tanggal_kehadiran:a}]).eq("id",e));case 11:(t=o.sent).error?Object(g.b)({message:t.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("KelasKehadiranScreen");case 15:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=new Date;t.setDate(t.getDate()+30);var a=new Date;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Update Kehadiran"})),y.a.createElement(x.a,{label:"Pertemuan",value:Ne(this.state.pertemuan),onChangeText:function(t){return e.setState({pertemuan:t})},keyboardType:"numeric",style:{margin:10},disabled:!0}),y.a.createElement(re.a,{style:{backgroundColor:"grey",marginHorizontal:10}}),this.isFieldInError("pertemuan")&&this.getErrorsInField("pertemuan").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Materi",value:this.state.materi,onChangeText:function(t){return e.setState({materi:t})},style:{margin:10},disabled:!0}),y.a.createElement(re.a,{style:{backgroundColor:"grey",marginHorizontal:10}}),this.isFieldInError("materi")&&this.getErrorsInField("materi").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Materi Realisasi",value:this.state.materi_realisasi,onChangeText:function(t){return e.setState({materi_realisasi:t})},style:{margin:10}}),this.isFieldInError("materi_realisasi")&&this.getErrorsInField("materi_realisasi").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(Te,{title:"Tanggal Kehadiran",value:this.state.tanggal_kehadiran,mode:"date",minDate:a,maxDate:t,onChangeDate:function(t){return e.setState({tanggal_kehadiran:t})}}),y.a.createElement(re.a,{style:{backgroundColor:"grey",marginHorizontal:10}}),y.a.createElement(L.a,{mode:"contained",icon:"check",onPress:function(){return e.onSubmit()},style:{margin:10}},"Simpan"))}}]),a}(R.a),Me=a(373);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function We(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Je=function(e){u()(a,e);var t=We(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=Ve(Ve({},n.state),{},{data:[],kehadiranCheck:!1}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t,a,n,r,o=this;return S.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.kelas_id,t=this.props.route.params.kelas_kehadiran_id,s.next=5,S.a.awrap(A.from("kelas_peserta").select("peserta_id, peserta:peserta_id(nama)").eq("kelas_id",e));case 5:a=s.sent,n=a.data,r=[],n.map((function(e){var a,n,s;return S.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,S.a.awrap(A.from("kelas_kehadiran_peserta").select("status").eq("kelas_kehadiran_id",t).eq("peserta_id",e.peserta_id).single());case 2:a=i.sent,n=a.data,a.error,s=!1,null!=n&&1==n.status&&(s=!0),r.push({peserta_id:e.peserta_id,peserta_nama:e.peserta.nama,status:s}),o.setState({data:r});case 9:case"end":return i.stop()}}),null,null,null,Promise)})),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 10:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"onCheck",value:function(e,t){var a=this.state.data;a.map((function(t,n){return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t.peserta_id==e&&(a[n].status=!t.status);case 1:case"end":return r.stop()}}),null,null,null,Promise)})),this.setState({data:a})}},{key:"onSubmit",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.kelas_kehadiran_id,t=this.state.data,a.next=5,S.a.awrap(A.from("kelas_kehadiran_peserta").delete().eq("kelas_kehadiran_id",e));case 5:a.sent,t.map((function(t){var a,n;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,S.a.awrap(A.from("kelas_kehadiran_peserta").insert([{peserta_id:t.peserta_id,kelas_kehadiran_id:e,status:t.status}]));case 2:a=r.sent,a.data,n=a.error,console.log(n);case 6:case"end":return r.stop()}}),null,null,null,Promise)})),Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("KelasKehadiranScreen");case 10:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:this.props.route.params.materi,subtitle:this.props.route.params.kelas_nama})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.peserta_nama,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:40},a.peserta_nama.charAt(0))},right:function(t){return y.a.createElement(Me.a,{status:1==a.status?"checked":"unchecked",onPress:function(){return e.onCheck(a.peserta_id,a.status)},color:k.colors.primary})},onPress:function(){return e.onCheck(a.peserta_id,a.status)}}),y.a.createElement(re.a,null))}}),y.a.createElement(L.a,{mode:"contained",icon:"content-save",onPress:function(){return e.onSubmit()},style:{margin:10}},"Simpan"))}}]),a}(h.Component);function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Ze=function(e){u()(a,e);var t=Qe(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=Ye(Ye({},n.state),{},{data:[]}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),a.next=3,S.a.awrap(A.from("kelas").select("id, nama, pelatihan:pelatihan_id (nama), status"));case 3:e=a.sent,t=e.data,e.error,e.count,this.setState({data:t}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Content,{title:"Pembayaran"})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.nama,description:a.pelatihan.nama,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:35},a.nama.charAt(0))},right:function(){return y.a.createElement(fe.a,{icon:"arrow-right"})},onPress:function(){return e.props.navigation.navigate("KelasPesertaScreen",{kelas_id:a.id,kelas_nama:a.nama})}}),y.a.createElement(re.a,null))}}))}}]),a}(h.Component);function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var at=function(e){u()(a,e);var t=tt(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=et(et({},n.state),{},{data:[]}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.kelas_id,n.next=4,S.a.awrap(A.from("kelas_peserta").select("id, peserta_id, peserta:peserta_id (nama)").eq("kelas_id",e));case 4:t=n.sent,a=t.data,t.error,t.count,this.setState({data:a}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 10:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:this.props.route.params.kelas_nama})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.peserta.nama,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:40},a.peserta.nama.charAt(0))},onPress:function(){return e.props.navigation.navigate("KelasPembayaranScreen",{kelas_id:e.props.route.params.kelas_id,kelas_nama:e.props.route.params.kelas_nama,peserta_id:a.peserta_id,peserta_nama:a.peserta.nama})}}),y.a.createElement(re.a,null))}}))}}]),a}(h.Component);function nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var st=function(e){u()(a,e);var t=ot(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=rt(rt({},n.state),{},{data:[]}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t,a,n;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.kelas_id,t=this.props.route.params.peserta_id,r.next=5,S.a.awrap(A.from("kelas_pembayaran").select("id, tanggal, nominal, keterangan").eq("kelas_id",e).eq("peserta_id",t).order("tanggal",{ascending:!1}));case 5:a=r.sent,n=a.data,a.error,a.count,this.setState({data:n}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 11:case"end":return r.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:this.props.route.params.peserta_nama,subtitle:this.props.route.params.kelas_nama})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:ge(a.tanggal),titleStyle:{fontWeight:"bold"},description:"Rp. "+Ne(a.nominal),descriptionStyle:{fontWeight:"bold"},right:function(){return y.a.createElement(fe.a,{icon:"image",size:27,onPress:function(){return e.props.navigation.navigate("BuktiBayarScreen",{id:a.id})}})},onPress:function(){return e.props.navigation.navigate("KelasPembayaranUpdateScreen",{docId:a.id})}}),y.a.createElement(re.a,null))}}),y.a.createElement(L.a,{mode:"contained",icon:"plus",onPress:function(){return e.props.navigation.navigate("KelasPembayaranInsertScreen",{kelas_id:e.props.route.params.kelas_id,peserta_id:e.props.route.params.peserta_id})},style:{margin:20}},"Tambah Pembayaran"))}}]),a}(h.Component);function it(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?it(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):it(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ut=function(e){u()(a,e);var t=lt(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=ct(ct({},n.state),{},{nominal:"",tanggal:new Date,keterangan:""}),n}return c()(a,[{key:"onSubmit",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.validate({nominal:{required:!0,numeric:!0},tanggal:{required:!0}}),!this.isFormValid()){n.next=12;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.kelas_id,t=this.props.route.params.peserta_id,a=[],n.next=8,S.a.awrap(A.from("kelas_pembayaran").insert([{kelas_id:e,peserta_id:t,tanggal:this.state.tanggal,nominal:Fe(this.state.nominal),keterangan:this.state.keterangan}]));case 8:(a=n.sent).error?Object(g.b)({message:a.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("KelasPembayaranScreen");case 12:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=new Date;t.setDate(t.getDate()+30);var a=new Date;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Insert Pembayaran"})),y.a.createElement(Te,{title:"Tanggal Bayar",value:this.state.tanggal,mode:"date",minDate:a,maxDate:t,onChangeDate:function(t){return e.setState({tanggal:t})}}),y.a.createElement(re.a,{style:{backgroundColor:"grey",marginHorizontal:10}}),y.a.createElement(x.a,{label:"Nominal",value:Ne(this.state.nominal),onChangeText:function(t){return e.setState({nominal:t})},keyboardType:"numeric",style:{margin:10}}),this.isFieldInError("nominal")&&this.getErrorsInField("nominal").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Keterangan",value:this.state.keterangan,onChangeText:function(t){return e.setState({keterangan:t})},style:{margin:10}}),y.a.createElement(L.a,{mode:"contained",icon:"check",onPress:function(){return e.onSubmit()},style:{margin:10}},"Simpan"))}}]),a}(R.a);function pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var dt=function(e){u()(a,e);var t=mt(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=ft(ft({},n.state),{},{nominal:"",tanggal:new Date,keterangan:""}),n}return c()(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.docId,n.next=4,S.a.awrap(A.from("kelas_pembayaran").select("id, tanggal, nominal, keterangan").eq("id",e).single());case 4:t=n.sent,a=t.data,t.error,this.setState({tanggal:a.tanggal,nominal:a.nominal,keterangan:a.keterangan}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"onSubmit",value:function(){var e,t,a,n;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.validate({nominal:{required:!0,numeric:!0},tanggal:{required:!0},keterangan:{required:!0}}),!this.isFormValid()){r.next=13;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.docId,t=[],a=Ge(this.state.tanggal),n=Fe(this.state.nominal),r.next=9,S.a.awrap(A.from("kelas_pembayaran").update([{tanggal:a,nominal:n,keterangan:this.state.keterangan}]).eq("id",e));case 9:(t=r.sent).error?Object(g.b)({message:t.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("KelasPembayaranScreen");case 13:case"end":return r.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Insert Pembayaran"})),y.a.createElement(Te,{title:"Tanggal Bayar",value:new Date(this.state.tanggal),mode:"date",onChangeDate:function(t){return e.setState({tanggal:t})}}),y.a.createElement(re.a,{style:{backgroundColor:"grey",marginHorizontal:10}}),y.a.createElement(x.a,{label:"Nominal",value:Ne(this.state.nominal),onChangeText:function(t){return e.setState({nominal:t})},keyboardType:"numeric",style:{margin:10}}),this.isFieldInError("nominal")&&this.getErrorsInField("nominal").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Keterangan",value:this.state.keterangan,onChangeText:function(t){return e.setState({keterangan:t})},style:{margin:10}}),y.a.createElement(L.a,{mode:"contained",icon:"check",onPress:function(){return e.onSubmit()},style:{margin:10}},"Simpan"))}}]),a}(R.a),ht=a(45),yt=a(27),gt=a(38),bt=a(34),vt=a(187),Ot=a(75),Et=a(407);function kt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var wt=function(e){u()(a,e);var t=kt(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state={bukti_bayar:null,bukti_bayarURL:null,isLoading:!1},n}return c()(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e,t,a,n,r,o;return S.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return this.setState({isLoading:!0}),e=this.props.route.params.id,s.next=4,S.a.awrap(A.from("kelas_pembayaran").select("*").eq("id",e).single());case 4:if(t=s.sent,a=t.data,t.error,n="",""==a.bukti_bayar){s.next=14;break}return s.next=11,S.a.awrap(A.storage.from("hmd").createSignedUrl("buktibayar/"+a.bukti_bayar,60));case 11:r=s.sent,o=r.signedURL,n=o;case 14:this.setState({bukti_bayar:a.bukti_bayar,bukti_bayarURL:n,isLoading:!1});case 15:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"onOpenGallery",value:function(){var e,t,a,n,r,o,s,i,c,l,u,p,f;return S.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return this.setState({isLoading:!0}),m.next=3,S.a.awrap(vt.b());case 3:if(e=m.sent,"granted"===e.status){m.next=9;break}Object(g.b)({message:"Akses galeri tidak diijinkan",type:"danger",icon:"danger"}),m.next=41;break;case 9:return m.next=11,S.a.awrap(vt.a({mediaTypes:Ot.a.Images,allowsEditing:!1,aspect:[4,3],quality:1,base64:!0}));case 11:if(!(t=m.sent).cancelled){m.next=16;break}this.setState({isLoading:!1}),m.next=41;break;case 16:return a=t.uri.split("/"),n=a[a.length-1],r=n.split("."),o=r[1],m.next=22,S.a.awrap(A.storage.from("hmd").upload("buktibayar/"+n,Object(Et.a)(t.base64),{contentType:"image/"+o}));case 22:return s=m.sent,s.data,i=s.error,m.next=27,S.a.awrap(A.storage.from("hmd").createSignedUrl("buktibayar/"+n,60));case 27:if(c=m.sent,l=c.signedURL,u=l,null==i){m.next=34;break}Object(g.b)({message:i,type:"danger",icon:"danger"}),m.next=40;break;case 34:return p=this.props.route.params.id,m.next=37,S.a.awrap(A.from("kelas_pembayaran").update([{bukti_bayar:n}]).eq("id",p));case 37:f=m.sent,f.data,Object(g.b)({message:"Gambar berhasil diupload",type:"success",icon:"success"});case 40:this.setState({isLoading:!1,bukti_bayarURL:u});case 41:case"end":return m.stop()}}),null,this,null,Promise)}},{key:"onDeleteConfirm",value:function(){var e=this;ht.a.alert("Perhatian","Gambar sampul akan dihapus",[{text:"Batal"},{text:"OK",onPress:function(){return e.onDelete()}}])}},{key:"onDelete",value:function(){var e,t,a,n,r;return S.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.setState({isLoading:!0}),e=this.state.bukti_bayar,o.next=4,S.a.awrap(A.storage.from("hmd").remove(["buktibayar/"+e]));case 4:if(t=o.sent,t.data,null==(a=t.error)){o.next=11;break}Object(g.b)({message:a,type:"danger",icon:"danger"}),o.next=17;break;case 11:return n=this.props.route.params.id,o.next=14,S.a.awrap(A.from("kelas_pembayaran").update([{bukti_bayar:null}]).eq("id",n));case 14:r=o.sent,r.data,Object(g.b)({message:"Gambar berhasil dihapus",type:"success",icon:"success"});case 17:this.setState({isLoading:!1,bukti_bayarURL:null});case 18:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Bukti Pembayaran"})),y.a.createElement(yt.a,null,null!=this.state.bukti_bayarURL?y.a.createElement(te.a,{style:{flex:1,alignItems:"center"}},y.a.createElement(bt.a,{onPress:function(){return e.setState({displayBukti:!0})}},y.a.createElement(gt.a,{source:{uri:this.state.bukti_bayarURL},style:{width:250,height:250,margin:20}})),y.a.createElement(L.a,{icon:"delete",mode:"outlined",color:"grey",onPress:function(){return e.onDeleteConfirm()},style:{margin:10}},"Delete")):y.a.createElement(te.a,null,y.a.createElement(L.a,{icon:"image",mode:"contained",color:k.colors.primary,onPress:function(){return e.onOpenGallery()},style:{margin:10}},"Upload Galeri"))),y.a.createElement(z.a,null,y.a.createElement(K.a,{visible:this.state.displayBukti,onDismiss:function(){return e.setState({displayBukti:!1})},contentContainerStyle:{justifyContent:"center",alignItems:"center"}},y.a.createElement(gt.a,{source:{uri:this.state.bukti_bayarURL},style:{width:400,height:500}}))),y.a.createElement(z.a,null,y.a.createElement(K.a,{visible:this.state.isLoading},y.a.createElement(H.a,{akategori_idating:!0,size:"large",color:k.colors.primary}))))}}]),a}(R.a);function Pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var jt=function(e){u()(a,e);var t=Pt(a);function a(e){return s()(this,a),t.call(this,e)}return c()(a,[{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Content,{title:"Setting"})),y.a.createElement(yt.a,null,y.a.createElement(ne.a.Section,null,y.a.createElement(ne.a.Item,{key:0,title:"Kelas",left:function(e){return y.a.createElement(ne.a.Icon,{icon:"home-circle-outline"})},right:function(e){return y.a.createElement(ne.a.Icon,{icon:"arrow-right"})},onPress:function(){return e.props.navigation.navigate("KelasScreen")}}),y.a.createElement(re.a,null),y.a.createElement(ne.a.Item,{key:1,title:"Peserta",left:function(e){return y.a.createElement(ne.a.Icon,{icon:"account-group-outline"})},right:function(e){return y.a.createElement(ne.a.Icon,{icon:"arrow-right"})},onPress:function(){return e.props.navigation.navigate("PesertaScreen")}}),y.a.createElement(re.a,null),y.a.createElement(ne.a.Item,{key:2,title:"Pelatihan",left:function(e){return y.a.createElement(ne.a.Icon,{icon:"book-outline"})},right:function(e){return y.a.createElement(ne.a.Icon,{icon:"arrow-right"})},onPress:function(){return e.props.navigation.navigate("PelatihanScreen")}}),y.a.createElement(re.a,null))))}}]),a}(h.Component);function St(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?St(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):St(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function It(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var xt=function(e){u()(a,e);var t=It(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=Dt(Dt({},n.state),{},{data:[]}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),a.next=3,S.a.awrap(A.from("kelas").select("id, pelatihan_id, nama, pelatihan:pelatihan_id (nama), status"));case 3:e=a.sent,t=e.data,e.error,e.count,this.setState({data:t}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"onRight",value:function(e){var t=this;return y.a.createElement(te.a,{style:{flexDirection:"row"}},y.a.createElement(fe.a,{icon:"account",size:27,onPress:function(){return t.props.navigation.navigate("PesertaKelasScreen",{kelas_id:e.id,pelatihan_id:e.pelatihan_id,kelas_nama:e.nama,pelatihan_nama:e.pelatihan.nama})}}),1==e.status?y.a.createElement(fe.a,{icon:"check-bold",color:"green"}):y.a.createElement(fe.a,{icon:"close-thick",color:"red"}))}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Kelas"})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.nama,description:a.pelatihan.nama,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:35},a.nama.charAt(0))},right:function(){return e.onRight(a)},onPress:function(){return e.props.navigation.navigate("KelasUpdateScreen",{docId:a.id})}}),y.a.createElement(re.a,null))}}),y.a.createElement(L.a,{mode:"contained",icon:"plus",onPress:function(){return e.props.navigation.navigate("KelasInsertScreen")},style:{margin:20}},"Insert Kelas"))}}]),a}(h.Component);function _t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Ct=function(e){u()(a,e);var t=Rt(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=Lt(Lt({},n.state),{},{pelatihanList:[],pelatihanId:"",pelatihan:"",nama:"",biaya:"",tanggal_mulai:new Date}),n}return c()(a,[{key:"componentDidMount",value:function(){this.fetchDataPelatihan()}},{key:"fetchDataPelatihan",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),n.next=3,S.a.awrap(A.from("pelatihan").select("id, nama"));case 3:e=n.sent,t=e.data,e.error,a=[],t.map((function(e){a.push({value:e.id,label:e.nama})})),this.setState({pelatihanList:a}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 10:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"onSubmit",value:function(){var e,t,a,n,r;return S.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.validate({pelatihan:{required:!0},nama:{required:!0},tanggal_mulai:{required:!0},biaya:{required:!0,numeric:!0}}),!this.isFormValid()){o.next=18;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),new Date,o.next=6,S.a.awrap(A.from("kelas").insert([{pelatihan_id:this.state.pelatihanId,nama:this.state.nama,tanggal_mulai:this.state.tanggal_mulai,biaya:Fe(this.state.biaya),status:"true"}]));case 6:return e=o.sent,t=e.data,a=e.error,n=t[0].id,o.next=12,S.a.awrap(A.from("pelatihan_materi").select("id, pertemuan, materi").eq("pelatihan_id",this.state.pelatihanId).order("pertemuan",{ascending:!1}));case 12:r=o.sent,r.data.map((function(e){var t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.awrap(A.from("kelas_kehadiran").insert([{kelas_id:n,materi:e.materi,pertemuan:e.pertemuan}]));case 2:t=a.sent,t.data;case 4:case"end":return a.stop()}}),null,null,null,Promise)})),a?Object(g.b)({message:a.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("KelasScreen");case 18:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=new Date;t.setDate(t.getDate()+30);var a=new Date;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Insert Kelas"})),y.a.createElement(Ie,{title:"Pelatihan",options:this.state.pelatihanList,value:this.state.pelatihanId,label:this.state.pelatihan,onChangePickerValue:function(t){return e.setState({pelatihanId:t})},onChangePickerLabel:function(t){return e.setState({pelatihan:t})}}),y.a.createElement(re.a,null),this.isFieldInError("pelatihan")&&this.getErrorsInField("pelatihan").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Nama",value:this.state.nama,onChangeText:function(t){return e.setState({nama:t})},style:{margin:10}}),this.isFieldInError("nama")&&this.getErrorsInField("nama").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(Te,{title:"Tanggal Muulai",value:this.state.tanggal_mulai,mode:"date",minDate:a,maxDate:t,onChangeDate:function(t){return e.setState({tanggal_mulai:t})}}),y.a.createElement(re.a,{style:{backgroundColor:"grey",marginHorizontal:10}}),y.a.createElement(x.a,{label:"Biaya",value:Ne(this.state.biaya),onChangeText:function(t){return e.setState({biaya:t})},keyboardType:"numeric",style:{margin:10}}),this.isFieldInError("biaya")&&this.getErrorsInField("biaya").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(L.a,{mode:"contained",icon:"check",onPress:function(){return e.onSubmit()},style:{margin:10}},"Simpan"))}}]),a}(R.a);function Bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function At(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Nt=function(e){u()(a,e);var t=Tt(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=At(At({},n.state),{},{pelatihanList:[],pelatihanId:"",pelatihan:"",nama:"",biaya:"",tanggal_mulai:new Date}),n}return c()(a,[{key:"componentDidMount",value:function(){this.fetchData(),this.fetchDataPelatihan()}},{key:"fetchData",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.docId,n.next=4,S.a.awrap(A.from("kelas").select("id, pelatihan_id, pelatihan:pelatihan_id (nama), nama, biaya, tanggal_mulai").eq("id",e).single());case 4:t=n.sent,a=t.data,t.error,this.setState({nama:a.nama,tanggal_mulai:a.tanggal_mulai,biaya:a.biaya,pelatihanId:a.pelatihan_id,pelatihan:a.pelatihan.nama}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"fetchDataPelatihan",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),n.next=3,S.a.awrap(A.from("pelatihan").select("id, nama"));case 3:e=n.sent,t=e.data,e.error,a=[],t.map((function(e){a.push({value:e.id,label:e.nama})})),this.setState({pelatihanList:a}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 10:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"onSubmit",value:function(){var e,t,a,n;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.validate({pelatihan:{required:!0},nama:{required:!0},tanggal_mulai:{required:!0},biaya:{required:!0,numeric:!0}}),!this.isFormValid()){r.next=13;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.docId,t=[],a=Ge(this.state.tanggal_mulai),n=Fe(this.state.biaya),r.next=9,S.a.awrap(A.from("kelas").update([{pelatihan_id:this.state.pelatihanId,nama:this.state.nama,tanggal_mulai:a,biaya:n}]).eq("id",e));case 9:(t=r.sent).error?Object(g.b)({message:t.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("KelasScreen");case 13:case"end":return r.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=new Date;t.setDate(t.getDate()+30);var a=new Date;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Update Kelas"})),y.a.createElement(Ie,{title:"Pelatihan",options:this.state.pelatihanList,value:this.state.pelatihanId,label:this.state.pelatihan,onChangePickerValue:function(t){return e.setState({pelatihanId:t})},onChangePickerLabel:function(t){return e.setState({pelatihan:t})}}),y.a.createElement(re.a,null),this.isFieldInError("pelatihan")&&this.getErrorsInField("pelatihan").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Nama",value:this.state.nama,onChangeText:function(t){return e.setState({nama:t})},style:{margin:10}}),this.isFieldInError("nama")&&this.getErrorsInField("nama").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(Te,{title:"Tanggal Kirim",value:new Date(this.state.tanggal_mulai),mode:"date",minDate:a,maxDate:t,onChangeDate:function(t){return e.setState({tanggal_mulai:t})}}),y.a.createElement(re.a,{style:{backgroundColor:"grey",marginHorizontal:10}}),y.a.createElement(x.a,{label:"Biaya",value:Ne(this.state.biaya),onChangeText:function(t){return e.setState({biaya:t})},keyboardType:"numeric",style:{margin:10}}),this.isFieldInError("biaya")&&this.getErrorsInField("biaya").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(L.a,{mode:"contained",icon:"check",onPress:function(){return e.onSubmit()},style:{margin:10}},"Simpan"))}}]),a}(R.a);function Gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var zt=function(e){u()(a,e);var t=qt(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=Ft(Ft({},n.state),{},{data:[],biaya:""}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.fetchData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"fetchData",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.kelas_id,n.next=4,S.a.awrap(A.from("kelas_peserta").select("id, peserta_id, peserta:peserta_id (nama)").eq("kelas_id",e));case 4:t=n.sent,a=t.data,t.error,this.setState({data:a}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"onDeleteConfirm",value:function(e){var t=this;ht.a.alert("Perhatian","Data akan dihapus?",[{text:"Batal"},{text:"OK",onPress:function(){return t.onDelete(e)}}])}},{key:"onDelete",value:function(e){return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),t.next=3,S.a.awrap(A.from("kelas_peserta").delete().eq("id",e));case 3:t.sent.error?Object(g.b)({message:result.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil dihapus",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.fetchData();case 7:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:this.props.route.params.kelas_nama,subtitle:this.props.route.params.pelatihan_nama})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.peserta.nama,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:40},a.peserta.nama.charAt(0))},right:function(t){return y.a.createElement(fe.a,{icon:"trash-can-outline",color:"grey",onPress:function(){return e.onDeleteConfirm(a.id)}})}}),y.a.createElement(re.a,null))}}),y.a.createElement(L.a,{mode:"contained",icon:"plus",onPress:function(){return e.props.navigation.navigate("PesertaKelasInsertScreen",{kelas_id:e.props.route.params.kelas_id,pelatihan_id:e.props.route.params.pelatihan_id})},style:{margin:10}},"Tambah"))}}]),a}(R.a);function Kt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Ut=function(e){u()(a,e);var t=Mt(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=Ht(Ht({},n.state),{},{pesertaList:[],pesertaId:"",peserta:""}),n}return c()(a,[{key:"componentDidMount",value:function(){this.fetchDataPeserta()}},{key:"fetchDataPeserta",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),n.next=3,S.a.awrap(A.from("peserta").select("id, nama"));case 3:e=n.sent,t=e.data,e.error,a=[],t.map((function(e){a.push({value:e.id,label:e.nama})})),this.setState({pesertaList:a}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 10:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"onSubmit",value:function(){var e,t,a,n,r,o;return S.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.validate({peserta:{required:!0}}),!this.isFormValid()){s.next=22;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.pelatihan_id,t=this.props.route.params.kelas_id,a=this.state.pesertaId,s.next=8,S.a.awrap(A.from("kelas_peserta").select("id, peserta_id").eq("kelas_id",t).eq("peserta_id",a));case 8:if(n=s.sent,""==n.data){s.next=14;break}Object(g.b)({message:"Peserta sudah terdaftar",icon:"warning",backgroundColor:"red",color:k.colors.background}),s.next=20;break;case 14:return s.next=16,S.a.awrap(A.from("kelas_peserta").insert([{kelas_id:t,peserta_id:this.state.pesertaId,pelatihan_id:e}]));case 16:r=s.sent,r.data,(o=r.error)?Object(g.b)({message:o.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"});case 20:q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("PesertaKelasScreen");case 22:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Insert Peserta"})),y.a.createElement(Ie,{title:"Peserta",options:this.state.pesertaList,value:this.state.pesertaId,label:this.state.peserta,onChangePickerValue:function(t){return e.setState({pesertaId:t})},onChangePickerLabel:function(t){return e.setState({peserta:t})}}),y.a.createElement(re.a,null),this.isFieldInError("peserta")&&this.getErrorsInField("peserta").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(L.a,{mode:"contained",icon:"check",onPress:function(){return e.onSubmit()},style:{margin:10}},"Simpan"))}}]),a}(R.a);function Vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Xt=function(e){u()(a,e);var t=Jt(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=Wt(Wt({},n.state),{},{data:[]}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),a.next=3,S.a.awrap(A.from("peserta").select("id, nama, email, telepon"));case 3:e=a.sent,t=e.data,e.error,e.count,this.setState({data:t}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"onRight",value:function(e){var t=this;return y.a.createElement(te.a,{style:{flexDirection:"row"}},y.a.createElement(fe.a,{icon:"lock-reset",size:25,onPress:function(){return t.props.navigation.navigate("PesertaResetPasswordScreen",{docId:e.id,email:e.email})}}),y.a.createElement(fe.a,{icon:"pencil",size:25,onPress:function(){return t.props.navigation.navigate("PesertaUpdateScreen",{docId:e.id})}}))}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Peserta"})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.nama,description:a.email,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:35},a.nama.charAt(0))},right:function(){return e.onRight(a)},onPress:function(){return e.props.navigation.navigate("PesertaUpdateScreen",{docId:a.id})}}),y.a.createElement(re.a,null))}}),y.a.createElement(L.a,{mode:"contained",icon:"plus",onPress:function(){return e.props.navigation.navigate("PesertaInsertScreen")},style:{margin:20}},"Insert Peserta"))}}]),a}(h.Component),Yt=xe.a.create({Appbar:{backgroundColor:k.colors.background},AppbarBack:{marginRight:-10},FlatList:{backgroundColor:k.colors.background},TextInput:{marginHorizontal:10,backgroundColor:k.colors.background},HelperText:{marginHorizontal:10},Button:{margin:10},ButtonDelete:{marginHorizontal:10},FAB:{position:"absolute",margin:16,right:0,bottom:0,backgroundColor:k.colors.primary},Chip:{borderColor:k.colors.primary,margin:5,height:35},ChipSelected:{backgroundColor:k.colors.primary,margin:5,height:35},ChipTextSelected:{color:k.colors.background},Caption:{fontSize:14},Subheading:{fontSize:16,textAlign:"right",fontWeight:"bold"},SubheadingRed:{fontSize:17,textAlign:"right",fontWeight:"bold",color:"red"},ScrollView:{backgroundColor:"#ffffff"}});function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $t(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ea=function(e){u()(a,e);var t=$t(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=Zt(Zt({},n.state),{},{nama:"",telepon:"",jurusan:"",universitas:"",alamat:"",email:"",password:"",passwordHide:!0,passwordIcon:"eye",registerSuccess:!1}),n}return c()(a,[{key:"passwordDisplay",value:function(){var e="eye"==this.state.passwordIcon?"eye-off-outline":"eye";this.setState({passwordIcon:e}),this.setState({passwordHide:!this.state.passwordHide})}},{key:"passwordConfirmDisplay",value:function(){var e="eye"==this.state.passwordConfirmIcon?"eye-off-outline":"eye";this.setState({passwordConfirmIcon:e}),this.setState({passwordConfirmHide:!this.state.passwordConfirmHide})}},{key:"onSubmit",value:function(){var e,t,a,n,r,o,s,i,c,l,u,p;return S.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(this.validate({nama:{required:!0},telepon:{required:!0,minlength:10},universitas:{required:!0},jurusan:{required:!0},email:{required:!0},password:{required:!0,minlength:6}}),!this.isFormValid()){f.next=32;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.state.email,t=this.state.password,a=this.state.nama,n=this.state.telepon,r=this.state.jurusan,o=this.state.universitas,s=this.state.alamat,f.next=12,S.a.awrap(A.auth.signUp({email:e,password:t}));case 12:if(i=f.sent,i.user,i.session,!(c=i.error)){f.next=20;break}Object(g.b)({message:c.message,icon:"warning",backgroundColor:"red",color:k.colors.background}),f.next=29;break;case 20:return f.next=22,S.a.awrap(A.from("peserta").insert([{email:e,nama:a,telepon:n,jurusan:r,universitas:o,alamat:s}]));case 22:return l=f.sent,u=l.body[0].id,f.next=26,S.a.awrap(A.from("users").insert([{tipe:"peserta",peserta_id:u,email:e,password:t}]));case 26:p=f.sent,p.insertUsers,p.error;case 29:q.dispatch({type:"LOADING",payload:{isLoading:!1}}),Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),this.props.navigation.navigate("PesertaScreen");case 32:case"end":return f.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.BackAction,{onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Insert Peserta"})),y.a.createElement(yt.a,{style:Yt.ScrollView},y.a.createElement(ne.a.Section,null,y.a.createElement(ne.a.Subheader,{style:{fontWeight:"bold"}},"Login"),y.a.createElement(re.a,null),y.a.createElement(x.a,{label:"Email",value:this.state.email,onChangeText:function(t){return e.setState({email:t})},style:Yt.TextInput,selectionColor:k.colors.accent}),this.isFieldInError("email")&&this.getErrorsInField("email").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Password",secureTextEntry:this.state.passwordHide,value:this.state.password,onChangeText:function(t){return e.setState({password:t})},style:Yt.TextInput,right:y.a.createElement(x.a.Icon,{icon:this.state.passwordIcon,onPress:function(){return e.passwordDisplay()}}),selectionColor:k.colors.accent}),this.isFieldInError("password")&&this.getErrorsInField("password").map((function(e){return y.a.createElement(_.a,{type:"error"},e)}))),y.a.createElement(ne.a.Section,null,y.a.createElement(ne.a.Subheader,{style:{fontWeight:"bold"}},"Personal"),y.a.createElement(re.a,null),y.a.createElement(x.a,{label:"Nama",value:this.state.nama,onChangeText:function(t){return e.setState({nama:t})},style:Yt.TextInput,selectionColor:k.colors.accent}),this.isFieldInError("nama")&&this.getErrorsInField("nama").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Telepon/WA",value:this.state.telepon,keyboardType:"numeric",onChangeText:function(t){return e.setState({telepon:t})},selectionColor:k.colors.accent,style:Yt.TextInput}),this.isFieldInError("telepon")&&this.getErrorsInField("telepon").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Universitas",value:this.state.universitas,onChangeText:function(t){return e.setState({universitas:t})},style:Yt.TextInput,selectionColor:k.colors.accent}),this.isFieldInError("universitas")&&this.getErrorsInField("universitas").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Jurusan",value:this.state.jurusan,onChangeText:function(t){return e.setState({jurusan:t})},style:Yt.TextInput,selectionColor:k.colors.accent}),this.isFieldInError("jurusan")&&this.getErrorsInField("jurusan").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Alamat",value:this.state.alamat,onChangeText:function(t){return e.setState({alamat:t})},style:Yt.TextInput,selectionColor:k.colors.accent}))),y.a.createElement(L.a,{mode:"contained",icon:"content-save-outline",onPress:function(){return e.onSubmit()},disabled:this.state.isLoading,style:Yt.Button},"Simpan"))}}]),a}(R.a);function ta(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function aa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ta(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function na(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ra=function(e){u()(a,e);var t=na(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=aa(aa({},n.state),{},{nama:"",telepon:"",jurusan:"",universitas:"",alamat:""}),n}return c()(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.docId,n.next=4,S.a.awrap(A.from("peserta").select("id, nama, telepon, universitas, jurusan, alamat").eq("id",e).single());case 4:t=n.sent,a=t.data,t.error,this.setState({nama:a.nama,universitas:a.universitas,telepon:a.telepon,jurusan:a.jurusan,alamat:a.alamat}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"onSubmit",value:function(){var e,t,a,n,r,o;return S.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.validate({nama:{required:!0},telepon:{required:!0,minlength:10},universitas:{required:!0},jurusan:{required:!0}}),!this.isFormValid()){s.next=16;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.docId,t=this.state.nama,a=this.state.telepon,n=this.state.jurusan,r=this.state.universitas,o=this.state.alamat,[],s.next=12,S.a.awrap(A.from("peserta").update([{nama:t,telepon:a,jurusan:n,universitas:r,alamat:o}]).eq("id",e));case 12:s.sent.error?Object(g.b)({message:result.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("PesertaScreen");case 16:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.BackAction,{onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Update Peserta"})),y.a.createElement(yt.a,{style:Yt.ScrollView},y.a.createElement(x.a,{label:"Nama",value:this.state.nama,onChangeText:function(t){return e.setState({nama:t})},style:Yt.TextInput,selectionColor:k.colors.accent}),this.isFieldInError("nama")&&this.getErrorsInField("nama").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Telepon/WA",value:this.state.telepon,keyboardType:"numeric",onChangeText:function(t){return e.setState({telepon:t})},selectionColor:k.colors.accent,style:Yt.TextInput}),this.isFieldInError("telepon")&&this.getErrorsInField("telepon").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Universitas",value:this.state.universitas,onChangeText:function(t){return e.setState({universitas:t})},style:Yt.TextInput,selectionColor:k.colors.accent}),this.isFieldInError("universitas")&&this.getErrorsInField("universitas").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Jurusan",value:this.state.jurusan,onChangeText:function(t){return e.setState({jurusan:t})},style:Yt.TextInput,selectionColor:k.colors.accent}),this.isFieldInError("jurusan")&&this.getErrorsInField("jurusan").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Alamat",value:this.state.alamat,onChangeText:function(t){return e.setState({alamat:t})},style:Yt.TextInput,selectionColor:k.colors.accent}),this.isFieldInError("nama")&&this.getErrorsInField("nama").map((function(e){return y.a.createElement(_.a,{type:"error"},e)}))),y.a.createElement(L.a,{mode:"contained",icon:"content-save-outline",onPress:function(){return e.onSubmit()},disabled:this.state.isLoading,style:Yt.Button},"Simpan"))}}]),a}(R.a);function oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function sa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ia(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ca=function(e){u()(a,e);var t=ia(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=sa(sa({},n.state),{},{isLoading:!1,showPassword:!0,showPasswordBaru:!0,showPasswordIcon:"eye",showPasswordBaruIcon:"eye",passwordEksisting:"",passwordBaru:""}),n}return c()(a,[{key:"componentDidMount",value:function(){}},{key:"onSubmit",value:function(){var e,t,a,n,r,o;return S.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.validate({passwordEksisting:{required:!0,minlength:6},passwordBaru:{required:!0,minlength:6}}),!this.isFormValid()){s.next=28;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.email,t=this.state.passwordEksisting,a=this.state.passwordBaru,s.next=8,S.a.awrap(A.auth.signIn({email:e,password:t}));case 8:if(n=s.sent,n.user,r=n.session,null==n.error){s.next=17;break}Object(g.b)({message:"Password saat ini tidak valid",icon:"warning",backgroundColor:"red",color:k.colors.background}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),s.next=28;break;case 17:return s.next=19,S.a.awrap(A.auth.api.updateUser(r.access_token,{password:a}));case 19:return o=s.sent,o.error,o.data,s.next=24,S.a.awrap(A.from("users").update([{password:a}]).eq("email",e));case 24:s.sent,q.dispatch({type:"LOADING",payload:{isLoading:!1}}),Object(g.b)({message:"Password berhasil diubah",icon:"success",type:"success"}),this.props.navigation.navigate("PesertaScreen");case 28:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"showPassword",value:function(){this.setState({showPassword:!this.state.showPassword});var e=this.state.showPassword?"eye-off-outline":"eye";this.setState({showPasswordIcon:e})}},{key:"showPasswordBaru",value:function(){this.setState({showPasswordBaru:!this.state.showPasswordBaru});var e=this.state.showPasswordBaru?"eye-off-outline":"eye";this.setState({showPasswordBaruIcon:e})}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,{style:{backgroundColor:"#ffffff"}},y.a.createElement(I.a.BackAction,{color:k.colors.primary,onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Reset Password",color:k.colors.primary})),y.a.createElement(yt.a,{style:Yt.ScrollView},y.a.createElement(x.a,{label:"Password Saat Ini",value:this.state.passwordEksisting,onChangeText:function(t){return e.setState({passwordEksisting:t})},secureTextEntry:this.state.showPassword,right:y.a.createElement(x.a.Icon,{icon:this.state.showPasswordIcon,onPress:function(){return e.showPassword()}}),style:Yt.TextInput}),this.isFieldInError("passwordEksisting")&&this.getErrorsInField("passwordEksisting").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Password Baru",value:this.state.passwordBaru,onChangeText:function(t){return e.setState({passwordBaru:t})},secureTextEntry:this.state.showPasswordBaru,right:y.a.createElement(x.a.Icon,{icon:this.state.showPasswordBaruIcon,onPress:function(){return e.showPasswordBaru()}}),style:Yt.TextInput}),this.isFieldInError("passwordBaru")&&this.getErrorsInField("passwordBaru").map((function(e){return y.a.createElement(_.a,{type:"error"},e)}))),y.a.createElement(L.a,{icon:"content-save",onPress:function(){return e.onSubmit()},mode:"contained",style:Yt.Button},"Simpan"))}}]),a}(R.a),la=a(144),ua=a(412);function pa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}ke.a.get("window").width;var fa=ke.a.get("window").height,ma=function(e){u()(a,e);var t=pa(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state={},n}return c()(a,[{key:"componentDidUpdate",value:function(e,t){e.display!==this.props.display&&1==this.props.display&&this.RBSheet.open(),e.display!==this.props.display&&0==this.props.display&&this.RBSheet.close()}},{key:"toggleDisplay",value:function(){this.props.onToggleForm()}},{key:"render",value:function(){var e=this;return h.createElement(ua.a,{ref:function(t){e.RBSheet=t},openDuration:250,closeOnPressMask:!1,customStyles:{container:{height:"auto",maxHeight:.5*fa}}},h.createElement(yt.a,{keyboardShouldPersistTaps:"handled",style:{margin:10}},h.createElement(te.a,{style:{flexDirection:"row"}},h.createElement(la.a,{style:{marginLeft:20}},this.props.title),h.createElement(te.a,{style:{marginLeft:"auto"}},h.createElement(L.a,{mode:"text",icon:"cancel",color:"grey",onPress:function(){return e.toggleDisplay()}},"Close"))),h.createElement(re.a,null),h.createElement(te.a,{style:{marginVertical:10}},this.props.children)))}}]),a}(h.Component);function da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ha(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?da(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):da(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ya(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ga=function(e){u()(a,e);var t=ya(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=ha(ha({},n.state),{},{data:[],nama:"",total_pertemuan:"",formDisplay:!1}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),a.next=3,S.a.awrap(A.from("pelatihan").select("id, nama, total_pertemuan"));case 3:e=a.sent,t=e.data,e.error,e.count,this.setState({data:t}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 9:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"onSubmit",value:function(){var e;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validate({nama:{required:!0},total_pertemuan:{required:!0}}),!this.isFormValid()){t.next=17;break}if(q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=[],""!==this.state.docId){t.next=10;break}return t.next=7,S.a.awrap(A.from("pelatihan").insert([{nama:this.state.nama,total_pertemuan:Fe(this.state.total_pertemuan)}]));case 7:e=t.sent,t.next=13;break;case 10:return t.next=12,S.a.awrap(A.from("pelatihan").update([{nama:this.state.nama,total_pertemuan:Fe(this.state.total_pertemuan)}]).eq("id",this.state.docId));case 12:e=t.sent;case 13:e.error?Object(g.b)({message:e.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.toggleForm(),this.getData();case 17:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"onDeleteConfirm",value:function(){var e=this;ht.a.alert("Perhatian","Data akan dihapus?",[{text:"Batal"},{text:"OK",onPress:function(){return e.onDelete(e.state.docId)}}])}},{key:"onDelete",value:function(e){return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),t.next=3,S.a.awrap(A.from("pelatihan").delete().eq("id",e));case 3:t.sent.error?Object(g.b)({message:result.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil dihapus",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.toggleForm(),this.getData();case 8:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"toggleForm",value:function(e){this.setState({formDisplay:!this.state.formDisplay}),e?this.setState({docId:e.id,nama:e.nama,total_pertemuan:e.total_pertemuan}):this.setState({docId:"",nama:"",total_pertemuan:""})}},{key:"onRight",value:function(e){var t=this;return y.a.createElement(te.a,{style:{flexDirection:"row"}},y.a.createElement(fe.a,{icon:"bulletin-board",size:25,onPress:function(){return t.props.navigation.navigate("PelatihanMateriScreen",{pelatihan_id:e.id,pelatihan_nama:e.nama})}}),y.a.createElement(fe.a,{icon:"pencil",size:25,onPress:function(){return t.toggleForm(e)}}))}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Pelatihan"})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.nama,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:35},a.nama.charAt(0))},right:function(){return e.onRight(a)},onPress:function(){return e.props.navigation.navigate("PelatihanMateriScreen",{pelatihan_id:a.id,pelatihan_nama:a.nama})}}),y.a.createElement(re.a,null))}}),y.a.createElement(L.a,{mode:"contained",icon:"plus",onPress:function(){return e.toggleForm()},style:{margin:20}},"Insert Pelatihan"),y.a.createElement(ma,{title:"",display:this.state.formDisplay,onToggleForm:function(t){return e.toggleForm()}},y.a.createElement(x.a,{label:"Nama",value:this.state.nama,onChangeText:function(t){return e.setState({nama:t})},style:Yt.TextInput}),this.isFieldInError("nama")&&this.getErrorsInField("nama").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Total Pertemuan",value:Ne(this.state.total_pertemuan),onChangeText:function(t){return e.setState({total_pertemuan:t})},keyboardType:"numeric",style:Yt.TextInput}),this.isFieldInError("total_pertemuan")&&this.getErrorsInField("total_pertemuan").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(L.a,{mode:"contained",icon:"content-save-outline",onPress:function(){return e.onSubmit()},disabled:this.state.isLoading,style:Yt.Button},"Save"),""!=this.state.docId&&y.a.createElement(L.a,{mode:"text",icon:"delete",color:"grey",onPress:function(){return e.onDeleteConfirm()},style:Yt.ButtonDelete},"Delete")))}}]),a}(R.a);function ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function va(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ba(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Oa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Ea=function(e){u()(a,e);var t=Oa(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=va(va({},n.state),{},{data:[]}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.pelatihan_id,n.next=4,S.a.awrap(A.from("pelatihan_materi").select("id, materi, pertemuan").eq("pelatihan_id",e).order("pertemuan",{ascending:!0}));case 4:t=n.sent,a=t.data,t.error,t.count,this.setState({data:a}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 10:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Materi",subtitle:this.props.route.params.pelatihan_nama})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.materi,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:35},a.pertemuan)},right:function(){return y.a.createElement(fe.a,{icon:"pencil",size:25,onPress:function(){return e.props.navigation.navigate("PelatihanMateriUpdateScreen",{docId:a.id})}})},onPress:function(){return e.props.navigation.navigate("PelatihanMateriUpdateScreen",{docId:a.id})}}),y.a.createElement(re.a,null))}}),y.a.createElement(L.a,{mode:"contained",icon:"plus",onPress:function(){return e.props.navigation.navigate("PelatihanMateriInsertScreen",{pelatihan_id:e.props.route.params.pelatihan_id})},style:{margin:20}},"Insert Materi"))}}]),a}(h.Component);function ka(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ka(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var ja=function(e){u()(a,e);var t=Pa(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=wa(wa({},n.state),{},{materi:"",pertemuan:""}),n}return c()(a,[{key:"onSubmit",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(this.validate({pertemuan:{required:!0},materi:{required:!0}}),!this.isFormValid()){a.next=11;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.pelatihan_id,t=[],a.next=7,S.a.awrap(A.from("pelatihan_materi").insert([{pelatihan_id:e,pertemuan:this.state.pertemuan,materi:this.state.materi}]));case 7:(t=a.sent).error?Object(g.b)({message:t.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("PelatihanMateriScreen");case 11:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Insert Materi"})),y.a.createElement(x.a,{label:"Pertemuan",value:this.state.pertemuan,onChangeText:function(t){return e.setState({pertemuan:t})},keyboardType:"numeric",style:{margin:10}}),this.isFieldInError("pertemuan")&&this.getErrorsInField("pertemuan").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Materi",value:this.state.materi,onChangeText:function(t){return e.setState({materi:t})},style:{margin:10}}),this.isFieldInError("materi")&&this.getErrorsInField("materi").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(L.a,{mode:"contained",icon:"check",onPress:function(){return e.onSubmit()},style:{margin:10}},"Simpan"))}}]),a}(R.a);function Sa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Da(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Sa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ia(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var xa=function(e){u()(a,e);var t=Ia(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=Da(Da({},n.state),{},{materi:"",pertemuan:""}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getData()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getData",value:function(){var e,t,a;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.docId,n.next=4,S.a.awrap(A.from("pelatihan_materi").select("id, materi, pertemuan").eq("id",e).single());case 4:t=n.sent,a=t.data,t.error,t.count,this.setState({pertemuan:a.pertemuan,materi:a.materi}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 10:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"onSubmit",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(this.validate({pertemuan:{required:!0},materi:{required:!0}}),!this.isFormValid()){a.next=11;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.docId,t=[],a.next=7,S.a.awrap(A.from("pelatihan_materi").update([{pertemuan:this.state.pertemuan,materi:this.state.materi}]).eq("id",e));case 7:(t=a.sent).error?Object(g.b)({message:t.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil disimpan",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("PelatihanMateriScreen");case 11:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"onDeleteConfirm",value:function(){var e=this,t=this.props.route.params.docId;ht.a.alert("Perhatian","Data akan dihapus?",[{text:"Batal"},{text:"OK",onPress:function(){return e.onDelete(t)}}])}},{key:"onDelete",value:function(e){return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),t.next=3,S.a.awrap(A.from("pelatihan_materi").delete().eq("id",e));case 3:t.sent.error?Object(g.b)({message:result.error.message,icon:"warning",backgroundColor:"red",color:k.colors.background}):Object(g.b)({message:"Data berhasil dihapus",icon:"success",type:"success"}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),this.props.navigation.navigate("PelatihanMateriScreen");case 7:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Update Materi"})),y.a.createElement(x.a,{label:"Pertemuan",value:Ne(this.state.pertemuan),onChangeText:function(t){return e.setState({pertemuan:t})},keyboardType:"numeric",style:{margin:10}}),this.isFieldInError("pertemuan")&&this.getErrorsInField("pertemuan").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Materi",value:this.state.materi,onChangeText:function(t){return e.setState({materi:t})},style:{margin:10}}),this.isFieldInError("materi")&&this.getErrorsInField("materi").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(L.a,{mode:"contained",icon:"check",onPress:function(){return e.onSubmit()},style:{margin:10}},"Simpan"),y.a.createElement(L.a,{mode:"text",icon:"delete",color:"grey",onPress:function(){return e.onDeleteConfirm()}},"Delete"))}}]),a}(R.a),_a=Object(P.a)(),La=Object($.a)();function Ra(){return y.a.createElement(b.a,{theme:k},y.a.createElement(w.a,null,y.a.createElement(La.Navigator,{activeColor:"black",inactiveColor:"grey",barStyle:{backgroundColor:k.colors.primary},shifting:!1},y.a.createElement(La.Screen,{name:"Home",component:pe,options:{tabBarLabel:"Home",tabBarIcon:function(e){var t=e.color;return y.a.createElement(ee.default,{name:"home",color:t,size:25})}}}),y.a.createElement(La.Screen,{name:"Kehadiran",options:{tabBarLabel:"Kehadiran",tabBarIcon:function(e){var t=e.color;return y.a.createElement(ee.default,{name:"clipboard-check-outline",color:t,size:25})}}},(function(){return y.a.createElement(_a.Navigator,null,y.a.createElement(_a.Screen,{name:"KehadiranScreen",component:ye,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"KelasKehadiranScreen",component:Ee,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"KelasKehadiranUpdateScreen",component:He,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"KelasKehadiranPesertaScreen",component:Je,options:{headerShown:!1}}))})),y.a.createElement(La.Screen,{name:"Pembayaran",options:{tabBarLabel:"Pembayaran",tabBarIcon:function(e){var t=e.color;return y.a.createElement(ee.default,{name:"credit-card-outline",color:t,size:25})}}},(function(){return y.a.createElement(_a.Navigator,null,y.a.createElement(_a.Screen,{name:"PembayaranScreen",component:Ze,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"KelasPesertaScreen",component:at,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"KelasPembayaranScreen",component:st,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"KelasPembayaranInsertScreen",component:ut,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"KelasPembayaranUpdateScreen",component:dt,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"BuktiBayarScreen",component:wt,options:{headerShown:!1}}))})),y.a.createElement(La.Screen,{name:"Setting",options:{tabBarLabel:"Setting",tabBarIcon:function(e){var t=e.color;return y.a.createElement(ee.default,{name:"cog",color:t,size:25})}}},(function(){return y.a.createElement(_a.Navigator,null,y.a.createElement(_a.Screen,{name:"SettingScreen",component:jt,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"KelasScreen",component:xt,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"KelasInsertScreen",component:Ct,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"KelasUpdateScreen",component:Nt,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"PelatihanScreen",component:ga,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"PelatihanMateriScreen",component:Ea,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"PelatihanMateriInsertScreen",component:ja,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"PelatihanMateriUpdateScreen",component:xa,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"PesertaScreen",component:Xt,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"PesertaInsertScreen",component:ea,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"PesertaUpdateScreen",component:ra,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"PesertaResetPasswordScreen",component:ca,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"PesertaKelasScreen",component:zt,options:{headerShown:!1}}),y.a.createElement(_a.Screen,{name:"PesertaKelasInsertScreen",component:Ut,options:{headerShown:!1}}))})))))}var Ca=a(366);function Ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Aa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ba(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ta(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Na=ke.a.get("window").width,Ga=function(e){u()(a,e);var t=Ta(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=Aa(Aa({},n.state),{},{data:[],openMenu:!1}),n}return c()(a,[{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.navigation.addListener("focus",(function(){e.getDataPeserta(),e.getDataKelas()}))}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"getDataPeserta",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),a.next=3,S.a.awrap(A.from("peserta").select("id, nama, email").eq("id",this.state.peserta_id).single());case 3:e=a.sent,t=e.data,e.error,this.setState({nama:t.nama,email:t.email});case 7:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"getDataKelas",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.awrap(A.from("kelas_peserta").select("id, kelas_id, kelas:kelas_id (nama), pelatihan:pelatihan_id (nama)").eq("peserta_id",this.state.peserta_id));case 2:e=a.sent,t=e.data,e.error,this.setState({data:t}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 7:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"onLogout",value:function(){q.dispatch({type:"LOGIN",payload:{isLogin:!1,tipe:"",peserta_id:""}})}},{key:"onMenuToggle",value:function(){this.setState({openMenu:!this.state.openMenu})}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Content,{title:"Home"}),y.a.createElement(I.a.Action,{icon:"dots-vertical",onPress:function(){return e.onMenuToggle()}})),y.a.createElement(Ca.a,{visible:this.state.openMenu,onDismiss:function(){return e.onMenuToggle()},anchor:{x:Na,y:50}},y.a.createElement(Ca.a.Item,{icon:"account-key-outline",title:"Reset Password",onPress:function(){return e.props.navigation.navigate("ResetPasswordScreen",{email:e.state.email})}}),y.a.createElement(Ca.a.Item,{icon:"logout",title:"Logout",onPress:function(){return e.onLogout()}})),y.a.createElement(te.a,{style:{justifyContent:"center",alignItems:"center",marginVertical:10}},y.a.createElement(la.a,null,this.state.nama),y.a.createElement(se.a,null,this.state.email)),y.a.createElement(re.a,{style:{marginTop:5}}),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.pelatihan.nama,description:a.kelas.nama,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:35},a.pelatihan.nama.charAt(0))},right:function(){return y.a.createElement(fe.a,{icon:"arrow-right-circle-outline"})},onPress:function(){return e.props.navigation.navigate("Kehadiran",{screen:"KehadiranKelasScreen",params:{kelas_id:a.kelas_id}})}}),y.a.createElement(re.a,null))}}))}}]),a}(h.Component);function Fa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function za(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Ka=function(e){u()(a,e);var t=za(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=qa(qa({},n.state),{},{isLoading:!1,showPassword:!0,showPasswordBaru:!0,showPasswordIcon:"eye",showPasswordBaruIcon:"eye",passwordEksisting:"",passwordBaru:""}),n}return c()(a,[{key:"componentDidMount",value:function(){}},{key:"onSubmit",value:function(){var e,t,a,n,r,o;return S.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.validate({passwordEksisting:{required:!0,minlength:6},passwordBaru:{required:!0,minlength:6}}),!this.isFormValid()){s.next=28;break}return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.email,t=this.state.passwordEksisting,a=this.state.passwordBaru,s.next=8,S.a.awrap(A.auth.signIn({email:e,password:t}));case 8:if(n=s.sent,n.user,r=n.session,null==n.error){s.next=17;break}Object(g.b)({message:"Password saat ini tidak valid",icon:"warning",backgroundColor:"red",color:k.colors.background}),q.dispatch({type:"LOADING",payload:{isLoading:!1}}),s.next=28;break;case 17:return s.next=19,S.a.awrap(A.auth.api.updateUser(r.access_token,{password:a}));case 19:return o=s.sent,o.error,o.data,s.next=24,S.a.awrap(A.from("users").update([{password:a}]).eq("email",e));case 24:s.sent,q.dispatch({type:"LOADING",payload:{isLoading:!1}}),Object(g.b)({message:"Password berhasil diubah",icon:"success",type:"success"}),this.props.navigation.navigate("HomeScreen");case 28:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"showPassword",value:function(){this.setState({showPassword:!this.state.showPassword});var e=this.state.showPassword?"eye-off-outline":"eye";this.setState({showPasswordIcon:e})}},{key:"showPasswordBaru",value:function(){this.setState({showPasswordBaru:!this.state.showPasswordBaru});var e=this.state.showPasswordBaru?"eye-off-outline":"eye";this.setState({showPasswordBaruIcon:e})}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,{style:{backgroundColor:"#ffffff"}},y.a.createElement(I.a.BackAction,{color:k.colors.primary,onPress:function(){return e.props.navigation.goBack()}}),y.a.createElement(I.a.Content,{title:"Reset Password",color:k.colors.primary})),y.a.createElement(yt.a,{style:Yt.ScrollView},y.a.createElement(x.a,{label:"Password Saat Ini",value:this.state.passwordEksisting,onChangeText:function(t){return e.setState({passwordEksisting:t})},secureTextEntry:this.state.showPassword,right:y.a.createElement(x.a.Icon,{icon:this.state.showPasswordIcon,onPress:function(){return e.showPassword()}}),style:Yt.TextInput}),this.isFieldInError("passwordEksisting")&&this.getErrorsInField("passwordEksisting").map((function(e){return y.a.createElement(_.a,{type:"error"},e)})),y.a.createElement(x.a,{label:"Password Baru",value:this.state.passwordBaru,onChangeText:function(t){return e.setState({passwordBaru:t})},secureTextEntry:this.state.showPasswordBaru,right:y.a.createElement(x.a.Icon,{icon:this.state.showPasswordBaruIcon,onPress:function(){return e.showPasswordBaru()}}),style:Yt.TextInput}),this.isFieldInError("passwordBaru")&&this.getErrorsInField("passwordBaru").map((function(e){return y.a.createElement(_.a,{type:"error"},e)}))),y.a.createElement(L.a,{icon:"content-save",onPress:function(){return e.onSubmit()},mode:"contained",style:Yt.Button},"Simpan"))}}]),a}(R.a);function Ha(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ma(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Ua=function(e){u()(a,e);var t=Ma(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ha(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n.state),n}return c()(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){}},{key:"getData",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),a.next=3,S.a.awrap(A.from("kelas_peserta").select("id, kelas_id, kelas:kelas_id (nama), pelatihan:pelatihan_id (nama)").eq("peserta_id",this.state.peserta_id).order("tanggal_mulai",{foreignTable:"kelas"}));case 3:e=a.sent,t=e.data,e.error,this.setState({data:t}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 8:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Content,{title:"Kelas"})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:a.pelatihan.nama,description:a.kelas.nama,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:35},a.pelatihan.nama.charAt(0))},right:function(){return y.a.createElement(fe.a,{icon:"arrow-right-circle-outline"})},onPress:function(){return e.props.navigation.push("KehadiranKelasScreen",{kelas_id:a.kelas_id})}}),y.a.createElement(re.a,null))}}))}}]),a}(h.Component);function Va(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Ja=function(e){u()(a,e);var t=Wa(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Va(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n.state),n}return c()(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){}},{key:"getData",value:function(){var e,t,a,n=this;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),e=this.props.route.params.kelas_id,r.next=4,S.a.awrap(A.from("kelas_kehadiran").select("id, pertemuan, materi, materi_realisasi, tanggal_kehadiran").eq("kelas_id",e).order("pertemuan",{ascending:!0}));case 4:t=r.sent,(a=t.data).map((function(e,t){var r,o;return S.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,S.a.awrap(A.from("kelas_kehadiran_peserta").select("status").eq("kelas_kehadiran_id",e.id).eq("peserta_id",n.state.peserta_id).single());case 2:r=s.sent,o=r.data,r.error,a[t].status=o.status,n.setState({kelas_kehadiran:a});case 7:case"end":return s.stop()}}),null,null,null,Promise)})),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 8:case"end":return r.stop()}}),null,this,null,Promise)}},{key:"onRight",value:function(e){var t="",a="";return 1==e.status?(t="check-circle-outline",a="green"):0==e.status?(t="close-circle-outline",a="red"):(t="timer-sand",a="grey"),y.a.createElement(te.a,null,y.a.createElement(fe.a,{icon:t,size:28,color:a}))}},{key:"render",value:function(){var e=this;return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Action,{icon:"arrow-left",onPress:function(){return e.props.navigation.navigate("KehadiranScreen")}}),y.a.createElement(I.a.Content,{title:"Kehadiran"})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.kelas_kehadiran,keyExtractor:function(e){return e.id},renderItem:function(t){var a=t.item;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:null!=a.materi_realisasi?a.materi_realisasi:a.materi,description:null!=a.tanggal_kehadiran?ge(a.tanggal_kehadiran):"-",left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:10},size:35},a.pertemuan)},right:function(t){return e.onRight(a)}}),y.a.createElement(re.a,null))}}))}}]),a}(h.Component);function Xa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ya(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var Qa=function(e){u()(a,e);var t=Ya(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n.state),n}return c()(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){}},{key:"getData",value:function(){var e,t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return q.dispatch({type:"LOADING",payload:{isLoading:!0}}),a.next=3,S.a.awrap(A.from("kelas_pembayaran").select("id, tanggal, nominal, keterangan").eq("peserta_id",this.state.peserta_id));case 3:e=a.sent,t=e.data,e.error,this.setState({data:t}),q.dispatch({type:"LOADING",payload:{isLoading:!1}});case 8:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){return y.a.createElement(b.a,{theme:k},y.a.createElement(I.a.Header,null,y.a.createElement(I.a.Content,{title:"Pembayaran"})),y.a.createElement(ae.a,{keyboardShouldPersistTaps:"handled",data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item,a=e.index;return y.a.createElement(te.a,null,y.a.createElement(ne.a.Item,{title:ge(t.tanggal),description:t.keterangan,left:function(e){return y.a.createElement(oe.a,{style:{backgroundColor:k.colors.primary,margin:8},size:35},a+1)},right:function(){return y.a.createElement(se.a,{style:{marginTop:10,fontWeight:"bold"}},Ne(t.nominal))}}),y.a.createElement(re.a,null))}}))}}]),a}(h.Component),Za=Object(P.a)(),$a=Object($.a)();function en(){return y.a.createElement(b.a,{theme:k},y.a.createElement(w.a,null,y.a.createElement($a.Navigator,{activeColor:"black",inactiveColor:"grey",barStyle:{backgroundColor:k.colors.primary},shifting:!1},y.a.createElement($a.Screen,{name:"Home",options:{tabBarLabel:"Home",tabBarIcon:function(e){var t=e.color;return y.a.createElement(ee.default,{name:"home",color:t,size:25})}}},(function(){return y.a.createElement(Za.Navigator,null,y.a.createElement(Za.Screen,{name:"HomeScreen",component:Ga,options:{headerShown:!1}}),y.a.createElement(Za.Screen,{name:"ResetPasswordScreen",component:Ka,options:{headerShown:!1}}))})),y.a.createElement($a.Screen,{name:"Kehadiran",options:{tabBarLabel:"Kehadiran",tabBarIcon:function(e){var t=e.color;return y.a.createElement(ee.default,{name:"clipboard-check-outline",color:t,size:25})}}},(function(){return y.a.createElement(Za.Navigator,null,y.a.createElement(Za.Screen,{name:"KehadiranScreen",component:Ua,options:{headerShown:!1}}),y.a.createElement(Za.Screen,{name:"KehadiranKelasScreen",component:Ja,options:{headerShown:!1}}))})),y.a.createElement($a.Screen,{name:"PembayaranScreen",options:{tabBarLabel:"Pembayaran",tabBarIcon:function(e){var t=e.color;return y.a.createElement(ee.default,{name:"credit-card-outline",color:t,size:25})}}},(function(){return y.a.createElement(Za.Navigator,null,y.a.createElement(Za.Screen,{name:"PembayaranScreen",component:Qa,options:{headerShown:!1}}))})))))}function tn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function an(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var nn=function(e){u()(a,e);var t=an(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state=q.getState(),q.subscribe((function(){n.setState(q.getState())})),n.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n.state),n}return c()(a,[{key:"render",value:function(){return 1==this.state.isLogin?"peserta"==this.state.tipe?h.createElement(b.a,{theme:k},h.createElement(en,null),h.createElement(V,null),h.createElement(g.a,{position:"top",style:{marginTop:30}})):h.createElement(b.a,{theme:k},h.createElement(Ra,null),h.createElement(V,null),h.createElement(g.a,{position:"top",style:{marginTop:30}})):h.createElement(b.a,{theme:k},h.createElement(Z,null),h.createElement(V,null),h.createElement(g.a,{position:"top",style:{marginTop:30}}))}}]),a}(h.Component);t.a=nn},435:function(e,t,a){e.exports=a(511)},479:function(e,t,a){var n={"./af":213,"./af.js":213,"./ar":214,"./ar-dz":215,"./ar-dz.js":215,"./ar-kw":216,"./ar-kw.js":216,"./ar-ly":217,"./ar-ly.js":217,"./ar-ma":218,"./ar-ma.js":218,"./ar-sa":219,"./ar-sa.js":219,"./ar-tn":220,"./ar-tn.js":220,"./ar.js":214,"./az":221,"./az.js":221,"./be":222,"./be.js":222,"./bg":223,"./bg.js":223,"./bm":224,"./bm.js":224,"./bn":225,"./bn-bd":226,"./bn-bd.js":226,"./bn.js":225,"./bo":227,"./bo.js":227,"./br":228,"./br.js":228,"./bs":229,"./bs.js":229,"./ca":230,"./ca.js":230,"./cs":231,"./cs.js":231,"./cv":232,"./cv.js":232,"./cy":233,"./cy.js":233,"./da":234,"./da.js":234,"./de":235,"./de-at":236,"./de-at.js":236,"./de-ch":237,"./de-ch.js":237,"./de.js":235,"./dv":238,"./dv.js":238,"./el":239,"./el.js":239,"./en-au":240,"./en-au.js":240,"./en-ca":241,"./en-ca.js":241,"./en-gb":242,"./en-gb.js":242,"./en-ie":243,"./en-ie.js":243,"./en-il":244,"./en-il.js":244,"./en-in":245,"./en-in.js":245,"./en-nz":246,"./en-nz.js":246,"./en-sg":247,"./en-sg.js":247,"./eo":248,"./eo.js":248,"./es":249,"./es-do":250,"./es-do.js":250,"./es-mx":251,"./es-mx.js":251,"./es-us":252,"./es-us.js":252,"./es.js":249,"./et":253,"./et.js":253,"./eu":254,"./eu.js":254,"./fa":255,"./fa.js":255,"./fi":256,"./fi.js":256,"./fil":257,"./fil.js":257,"./fo":258,"./fo.js":258,"./fr":259,"./fr-ca":260,"./fr-ca.js":260,"./fr-ch":261,"./fr-ch.js":261,"./fr.js":259,"./fy":262,"./fy.js":262,"./ga":263,"./ga.js":263,"./gd":264,"./gd.js":264,"./gl":265,"./gl.js":265,"./gom-deva":266,"./gom-deva.js":266,"./gom-latn":267,"./gom-latn.js":267,"./gu":268,"./gu.js":268,"./he":269,"./he.js":269,"./hi":270,"./hi.js":270,"./hr":271,"./hr.js":271,"./hu":272,"./hu.js":272,"./hy-am":273,"./hy-am.js":273,"./id":274,"./id.js":274,"./is":275,"./is.js":275,"./it":276,"./it-ch":277,"./it-ch.js":277,"./it.js":276,"./ja":278,"./ja.js":278,"./jv":279,"./jv.js":279,"./ka":280,"./ka.js":280,"./kk":281,"./kk.js":281,"./km":282,"./km.js":282,"./kn":283,"./kn.js":283,"./ko":284,"./ko.js":284,"./ku":285,"./ku.js":285,"./ky":286,"./ky.js":286,"./lb":287,"./lb.js":287,"./lo":288,"./lo.js":288,"./lt":289,"./lt.js":289,"./lv":290,"./lv.js":290,"./me":291,"./me.js":291,"./mi":292,"./mi.js":292,"./mk":293,"./mk.js":293,"./ml":294,"./ml.js":294,"./mn":295,"./mn.js":295,"./mr":296,"./mr.js":296,"./ms":297,"./ms-my":298,"./ms-my.js":298,"./ms.js":297,"./mt":299,"./mt.js":299,"./my":300,"./my.js":300,"./nb":301,"./nb.js":301,"./ne":302,"./ne.js":302,"./nl":303,"./nl-be":304,"./nl-be.js":304,"./nl.js":303,"./nn":305,"./nn.js":305,"./oc-lnc":306,"./oc-lnc.js":306,"./pa-in":307,"./pa-in.js":307,"./pl":308,"./pl.js":308,"./pt":309,"./pt-br":310,"./pt-br.js":310,"./pt.js":309,"./ro":311,"./ro.js":311,"./ru":312,"./ru.js":312,"./sd":313,"./sd.js":313,"./se":314,"./se.js":314,"./si":315,"./si.js":315,"./sk":316,"./sk.js":316,"./sl":317,"./sl.js":317,"./sq":318,"./sq.js":318,"./sr":319,"./sr-cyrl":320,"./sr-cyrl.js":320,"./sr.js":319,"./ss":321,"./ss.js":321,"./sv":322,"./sv.js":322,"./sw":323,"./sw.js":323,"./ta":324,"./ta.js":324,"./te":325,"./te.js":325,"./tet":326,"./tet.js":326,"./tg":327,"./tg.js":327,"./th":328,"./th.js":328,"./tk":329,"./tk.js":329,"./tl-ph":330,"./tl-ph.js":330,"./tlh":331,"./tlh.js":331,"./tr":332,"./tr.js":332,"./tzl":333,"./tzl.js":333,"./tzm":334,"./tzm-latn":335,"./tzm-latn.js":335,"./tzm.js":334,"./ug-cn":336,"./ug-cn.js":336,"./uk":337,"./uk.js":337,"./ur":338,"./ur.js":338,"./uz":339,"./uz-latn":340,"./uz-latn.js":340,"./uz.js":339,"./vi":341,"./vi.js":341,"./x-pseudo":342,"./x-pseudo.js":342,"./yo":343,"./yo.js":343,"./zh-cn":344,"./zh-cn.js":344,"./zh-hk":345,"./zh-hk.js":345,"./zh-mo":346,"./zh-mo.js":346,"./zh-tw":347,"./zh-tw.js":347};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=479}},[[435,1,2]]]);
//# sourceMappingURL=app.ae249fa8.chunk.js.map